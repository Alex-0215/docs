---
title: "1С:Бухгалтерия 3.0"
permalink: /docs/integration/1c_acc3/
toc: true
---

## Возможности
Интеграция реализована для конфигураций 1С:Предприятие 8.3:
- Бухгалтерия предприятия, редакция 3.0

Обмен осуществляется со стороны 1С с использованием внешней обработки “АРК Транспортная Логистика обмен с сайтом arctl.ru”. С помощью обработки указанной обработки осуществляется загрузка в 1С новых элементов справочников и документов, выгрузка платежей в АРК а также выполняется связь имеющихся данных в 1С и АРК.

Таблица. Обмен 1C и АРК Транспортная Логистика

Объект 1С | Объект АРК | Загрузка | Связь | Выгрузка | Режимы
------ | ------ | ------ | ------ |------ | ------
Организаций   | Организация > Наши компании | | Да | | |
------ | ------ | ------ | ------ |------ | ------
Контрагенты   | CRM > Контрагенты | Да | Да | | Новые, загружены, все |
------ | ------ | ------ | ------ |------ | ------
Договоры   | CRM > Договоры | Да | Да | | Новые, загружены, все |
------ | ------ | ------ | ------ |------ | ------
Номенклатура   | Справочники > Шаблоны заявок > Услуги | Да | Да | | Новые, загружены, все |
------ | ------ | ------ | ------ |------ | ------
Поступление на расчетный счет   | Клиенты > Платежи | | | Да | |
------ | ------ | ------ | ------ |------ | ------
Списание с расчетного счета   | Поставщики > Входящие документы | | | Да | |
------ | ------ | ------ | ------ |------ | ------
Реализация (акты, накладные)   | Клиенты > Акты / счет-фактуры | Да | | | Новые, загружены, все |
------ | ------ | ------ | ------ |------ | ------
Поступления (акты, накладные)   | Поставщики > Входящие документы | Да | | | Новые, загружены, все |
------ | ------ | ------ | ------ |------ | ------
Отчеты комитентам   | Клиенты > Отчет экспедитору | Да | | | Новые, загружены, все |
------ | ------ | ------ | ------ |------ | ------
платежные поручения   | клиенты > исходящие экспедитору | Да | | | Новые, загружены, все |


**Важно!** Обмен реализован для 1С Бухгалтерия: 3.0.ХХ.ХХ

**Важно!** При установки связи в АРК записывается код объекта из 1С, далее обмен выполняется используя это код. Изменяя код в 1С нарушается связь.

**Важно!** При изменении ранее выгруженного документа в АРК необходима повторная выгрузка в 1С. Изменения документов не отслеживаются. При загрузке документ перезаписывается.

## Загрузка обработки

Последняя версия обработки АРК Транспортная Логистика обмен с сайтом arctl.ru всегда находится по следющему адресу: [Яндекс Диск](https://yadi.sk/d/yPQwBFdNiH0Ssg).

Рекомендуем после загрузки добавить обработку в дополнительные отчеты и обработки.

## Добавление в дополнительные отчеты и обработки

Открыть печатные формы и обработки

![](../../images/processing_form.png)

Затем открыть дополнительные отчеты и обработки

![](../../images/additional_treatments.png)

В открывшемся окне добавляем обработку

![](../../images/additiona_reports.png)

В окне предупреждения нажать продолжить

![](../../images/warning.png)

Выбрать файла обработки

![](../../images/file_selection.png)

Установить в размещение в разделах

![](../../images/processing_placement.png)

Указать где размещать

![](../../images/placement_in_sections.png)

Затем нажимаем записать и закрыть

![](../../images/external_processing.png)

В любом из разделов где ранее указали размещение необходимо настроить список для отображения, для этого переходим в раздел и нажимаем дополнительные обработки

![](../../images/processing_service.png)

В открывшемся окне выбрать настроить список

![](../../images/processing_setting.png)

Выбрать нашу обработку

![](../../images/processing_service_slection.png)

Все на этом завершена настройка отображения. Выполняется это один раз при первом размещении внешней обработки.

## Запуск внешней обработки

### Из списка обработок

Если обработка добавлена в 'дополнительные отчеты и обработки'

В разделе “Продажи, “Покупки”, “Банк и касс” (раздел определяет администратор) используя меню дополнительные обработки.

![](../../images/service_file.png)

Затем

![](../../images/my_additional_processing.png)

### Через файл

В меню нажимаем “Файл” затем открыть, где выбрать путь к загруженной обработке

![](../../images/open_file.png)

### Через сохраненный путь

Если ранее открывали, в меню нажимаем “Файл” затем выбираем сохраненный путь

![](../../images/opened_file.png)

[Ссылка](http://docs.arctl.ru/docs/integration/1c_adding_processing/)

## Начало работы с обработкой

Перед использованием обработки необходимо после ее запуска выполнить настройку следующих пунктов:

Настроить подключение. На вкладке настройки указать http, пользователь, пароль, как показано ниже

![](../../images/start_processing.png)

Добавить внешнюю систему в АРК. Для этого необходимо скопировать имя внешней системы как показано ниже

![](../../images/name_processing.png)

Затем добавить в  АРК Транспортная Логистика скопированное имя как показано ниже.

![](../../images/external_system.png)

Проверить подключение. Для этого необходимо в обработке нажать кнопку получить как показано ниже. Если получен длинный код (уникальный идентификатор), то обмен настроен.

![](../../images/connection_check.png)

# Обмен данными

Перед обменом данными необходимо связать нашу компанию в АРК Транспортная Логистика и организацией в 1С, как показано на
рисунке ниже. Выбираем организацию соответствующую нашей компании и нажимаем кнопку связать.

![](../../images/data_exchange.png)

## Загрузка платежных поручений из платежного календаря

Порядок действий:

1. В 1С получить строки платежного календаря и подготовить платежные поручения (Бухгалтер)
Открыть форму обработки на вкладке `Документы - Платежные поручения` нажать `получить`

![Рисунок. АРК: Online. Документ «Заявка на оплату поставщику»](../images/1c_buh_arctl_Money_orders_get_upload.png)

При нажатии кнопки `Получить` система автоматически:
- получает строки платежного календаря:
  - только акцептованные;
  - ранее не загруженные;  
  - с учетом периода по полю `План. дата`
- подготавливает загрузку, группируя по полям:
  - Получатель (контрагент);
  - Договор;
  - Валюта;
  - Ставка НДС;
  - Счет;

2. Перед загрузкой можно скорректировать поля:
- дата;
- назначение платежа;
- и др.

### В 1С загрузить (создать) платежные поручения (Бухгалтер)
В форме обработки на вкладке `Документы - Платежные поручения` нажать `Загрузить`.
Система создаст платежные поручения и заполнит поле `Платежное поручение`.
Заполнение этого поля означает успешную загрузку.

[Права доступа в 1C](http://docs.arctl.ru/docs/integration/acess_rights_c/)

## Проверка версии обработки

Версия обработки указывается в заголовке обработки после ее открытия как показано ниже.

![](../../images/1c_processing_version.png)

## Права доступа в 1С

В 1С права доступа доступа должны аналогичные профилю групп доступа “Бухгалтер”, дополнительно включается “Запуск внешнего соединения“ и “Интерактивное открытие внешних отчетов и обработок” как рассказано ниже.
Добавить новый профиль можно через меню “Профили групп доступа” (Администрирование > Настройки пользователей и прав > Профили групп доступа). Ниже показано как должен выглядеть профиль. В названии указать “Синхронизация данных с АРК”

![](../../images/group_profile.png)

Затем новый профиль необходимо добавить пользователю через меню “Пользователи” (Администрирование > Настройки пользователей и прав > Пользователи), где выбрать нужного пользователя добавить в правах созданный профиль.

![](../../images/user.png)

**Важно!** Если пользователь не администратор, то работа обработки может выполняться если она включена в дополнительные отчеты и обработки.

----
## Включение отладки
Включение отладки при выполнении POST запросов.
![](../images/1с/debug_on.png)

## Дополнительные обработки
Поиск и замена значений, [Яндекс Диск](https://yadi.sk/d/aRiwirfhi58p0A)
Групповое изменение реквизитов, [Яндекс Диск](https://yadi.sk/d/PHKVlkmcCjrrmw)
