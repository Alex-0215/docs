---
title: "1С:Бухгалтерия 3.0"
permalink: /docs/integration/1c-acc3/
toc: true
---

## Возможности

Интеграция реализована для конфигураций **1С:Предприятие 8.3**:
- Бухгалтерия предприятия, редакция 3.0

Обмен осуществляется со стороны 1С с использованием внешней обработки
**АРК: Транспортная Логистика обмен с сайтом arctl.ru**.

Используйте обработку для:
- Загрузки **АРК -> 1С**:
  -   справочников
  -   документов
- Выгрузки **1С -> АРК**:
  -   документов
- Выполнения связи имеющихся данных в 1С и АРК.

### Соответствие объектов в *1C* и *АРК: Транспортная Логистика OnLine*

| Объект 1С | Объект АРК | Метод | Фильтр |
| :--- | :--- | :--- | :--- |
| **Справочники** |
| Контрагенты  | CRM > Контрагенты | получить, связать, загрузить | все, новые, связанные |
| Договоры     | CRM > Договоры | получить, связать, загрузить | все, новые, связанные |
| Номенклатура | Справочники > Шаблоны заявок > Услуги | получить, связать, загрузить | все, новые, связанные |
| Организации  | Организация > Наши компании | получить, связать | |
| **Загрузка (АРК -> 1C)** |
| Счета покупателям | Клиенты > Счета на оплату | получить, загрузить | все, новые, загруженные |
| Реализация (акты, УПД) | Клиенты > Акты / счета-фактуры | получить, загрузить | все, новые, загруженные |
| Поступление (акты, УПД) | Поставщики > Входящие документы | получить, загрузить | все, новые, загруженные |
| Отчеты комитентам (экс.)| Клиенты > Отчеты экспедиторов | получить, загрузить | все, новые, загруженные |
| Платежные поручения (постав.) | Поставщики > Платежный календарь | получить, загрузить | |
| **Выгрузка (1C -> АРК)** |
| Поступление на р/с (клиент.) | Клиенты > Платежи | получить, выгрузить | |
| Списание с р/с (постав.) | Поставщики > Платежи | получить, выгрузить | |
| Счета от поставщиков | Поставщики > Входящие документы (счет) | получить, выгрузить | |
| Поступление (акты, УПД) | Поставщики > Входящие документы (акт) | получить, выгрузить | |

**Важно!** Обмен реализован для 1С Бухгалтерия: 3.0.ХХ.ХХ.

### Описание методов

| Метод | Описание |
| :--- | :--- |
| получить | обработка получает объекты для выполнения с ними методов связать, загрузить, выгрузить |
| связь | обработка в АРК записывается код объекта из 1С. Дале при обмен используется эта связь. Изменение кода в 1С нарушает связь объектов |
| загрузить | обработка загружает в 1С справочник или документ из таблицы сформированной методом получить. Чтобы объект не загружался нужно снять метку "П." |
| выгрузить | обработка загружает в АРК документ из таблицы сформированной методом получить. Чтобы объект не загружался нужно снять метку "П." |

**Важно!** При изменении в АРК ранее выгруженного документа необходима
повторная выгрузка в 1С. Изменения документов не отслеживаются.
При загрузке документ перезаписывается.

### Описание фильтров

| Фильтр | Описание |
| :--- | :--- |
| все | будут получены все объекты |
| новые | будут получены только новые ранее не связанные и не загруженные |
| загруженные | будут получены только загруженные ранее связанные или загруженные |

## Загрузка обработки

Последняя версия обработки
**АРК: Транспортная Логистика обмен с сайтом arctl.ru**
находится по адресу: [gitlab.arctl.ru](https://gitlab.arctl.ru/dev/arctl_online_1c_acc3/-/raw/master/bin/arctl_online_1c_acc3.epf).

Рекомендуем после загрузки добавить обработку в
дополнительные отчеты и обработки.

## Добавление в дополнительные отчеты и обработки

Откройте *Печатные формы, отчеты и обработки*

![](../../images/processing_form.png)

Затем откройте *Дополнительные отчеты и обработки*

![](../../images/additional_treatments.png)

В открывшемся окне добавьте обработку

![](../../images/additiona_reports.png)

В окне предупреждения нажмите *Продолжить*

![](../../images/warning.png)

Выберите файл обработки

![](../../images/file_selection.png)

Установите в размещение в разделах.
Рекомендуемые разделы *Продажи*, *Покупки* и *Банк и касса*

![](../../images/processing_placement.png)

Укажите место размещения

![](../../images/placement_in_sections.png)

Нажмите *Записать и закрыть*

![](../../images/external_processing.png)

В любом из разделов, где ранее указали размещение,
необходимо настроить список для отображения.
Для этого перейдите в раздел *Сервис* и выберите *Дополнительные обработки*.

![](../../images/processing_service.png)

В открывшемся окне выберите *Настроить список*

![](../../images/processing_setting.png)

Выберите обработку **АРК: Транспортная Логистика обмен с сайтом arctl.ru**

![](../../images/processing_service_slection.png)

На этом настройка отображения завершена.
Процедура выполняется **один раз** при первом размещении внешней обработки.

## Запуск внешней обработки
Существует несколько вариантов запуска внешней обработки:
  - из списка обработок (рекомендуемый вариант)
  - через файл (подходит для однакратного запуска)
  - через сохраненный путь

### Из списка обработок
Запуск возможен, если обработка добавлена в
[Дополнительные отчеты и обработки](../1c-acc3/#добавление-в-дополнительные-отчеты-и-обработки).

Откройте раздел *Продажи*, *Покупки* или *Банк и касса*,
затем перейдите в меню *Дополнительные обработки*.

![](../../images/service_file.png)

Откройте обработку **АРК: Транспортная Логистика обмен с сайтом arctl.ru**

![](../../images/my_additional_processing.png)

### Через файл
Откройте меню *Файл*, *Открыть* и выберите путь к загруженной обработке.

![](../../images/open_file.png)

### Через сохраненный путь
Запуск возможен, если раннее обработка открывалась *Через файл*.

Откройте меню *Файл*, затем выберете сохраненный путь до файла обработки.

![](../../images/opened_file.png)

## Начало работы с обработкой

Перед использованием обработки после ее запуска выполните начальную настройку:

1) Настройте подключение к **АРК: Транспортная Логистика**.

На вкладке *Настройки* заполните поля *http*, *Пользователь*, *Пароль*

![](../../images/start_processing.png)

2) Добавьте внешнюю систему в **АРК: Транспортная Логистика**.

Скопируйте имя внешней системы в обработке.

![](../../images/name_processing.png)

Затем добавьте его в справочник внешних систем в
**АРК: Транспортная Логистика**.

![](../../images/external_system.png)

3) Проверьте подключение.

Нажмите кнопку *Получить*. Если получен длинный код (уникальный идентификатор),
то обмен настроен успешно.

![](../../images/connection_check.png)

## Обмен данными

Перед обменом данными необходимо связать *Нашу компанию* в
**АРК: Транспортная Логистика** и *Организацию* в **1С**.

Выберите организацию, соответствующую нашей компании, и
нажмите кнопку *Связать*.

![](../../images/data_exchange.png)

## Проверка версии обработки

Версия обработки указана в заголовке обработки.

![](../../images/1c_processing_version.png)

## Права доступа в 1С

В 1С права доступа должны быть аналогичны профилю групп доступа *Бухгалтер*.

Дополнительно включите *Запуск внешнего соединения* и
*Интерактивное открытие внешних отчетов и обработок*.

1) Добавьте новый профиль через меню *Профили групп доступа*
(Администрирование > Настройки пользователей и прав > Профили групп доступа).

Профиль должен выглядеть примерно так.
В названии укажите, например, “Синхронизация данных с АРК”.

![](../../images/group_profile.png)

2) В новый профиль добавьте пользователя через меню *Пользователи*
(Администрирование > Настройки пользователей и прав > Пользователи).

Выберите нужного пользователя добавьте в правах созданный профиль.

![](../../images/user.png)

**Важно!** Если пользователь не администратор, то работа обработки может
выполняться, если она включена в *Дополнительные отчеты и обработки*

## Включение отладки
Включение отладки при выполнении POST запросов.
![](../../images/debug_on.png)
